drop table if exists movies CASCADE;
drop table if exists genres CASCADE;
drop table if exists directors CASCADE;
drop table if exists codec_formats CASCADE;
drop table if exists audios CASCADE;
drop table if exists subtitles CASCADE;
drop table if exists storage_types CASCADE;


create table movies
(
    id             bigint generated by default as identity,
    title_hun            varchar(255),
    title_english        varchar(255),
    title_original       varchar(255) not null,
    duration             time,
    genre_id             bigint,
    director_id          bigint,
    realease_year        int,
    codec_format_id      bigint,
    x_resolution         int,
    y_resolution         int,
    storage_type_id           bigint,
    storage_number       bigint,
    primary key (movie_id)
);

create table genres
(
    id                   bigint generated by default as identity,
    name                 varchar(255) not null,
    primary key (id)
);

create table directors
(
    id                   bigint generated by default as identity,
    name                 varchar(255) not null,
    birthday             date,
    primary key (id)
);

create table codec_formats
(
    id                   bigint generated by default as identity,
    name                 varchar(255) not null,
    primary key (id)
);

create table audios
(
    id                   bigint generated by default as identity,
    language             varchar(255) not null,
    primary key (id)
);

create table subtitles
(
    id                   bigint generated by default as identity,
    language             varchar(255) not null,
    primary key (id)
);

create table storage_types
(
    id                   bigint generated by default as identity,
    name                 varchar(255) not null,
    primary key (id)
);

alter table movies
    add constraint movies foreign key (genre_id) references genres;
    add constraint movies foreign key (director_id) references directors;
    add constraint movies foreign key (director_id) references directors;
    add constraint movies foreign key (code_format_id) references codec_formats;
    add constraint movies foreign key (storage_id) references storages;

insert into genre (name) values ('akció');
insert into genre (name) values ('vígjáték');
insert into genre (name) values ('dráma');
insert into genre (name) values ('történelmi');
insert into genre (name) values ('western');
insert into genre (name) values ('fantasy');
insert into genre (name) values ('sci-fi');
insert into genre (name) values ('horror');
insert into genre (name) values ('thriller');
insert into genre (name) values ('romantikus');
insert into genre (name) values ('rajzfilm');
insert into genre (name) values ('anime');
insert into genre (name) values ('dokumentum');
insert into genre (name) values ('természet-film');
insert into genre (name) values ('utifilm');
insert into genre (name) values ('háborús-film');
insert into genre (name) values ('némafilm');

insert into codec_formats (name) values ('H264-BRRIP');
insert into codec_formats (name) values ('H264-WEBRIP');
insert into codec_formats (name) values ('H264-1080P');
insert into codec_formats (name) values ('H264-720P');
insert into codec_formats (name) values ('H265');
insert into codec_formats (name) values ('H265-4K');
insert into codec_formats (name) values ('XVID');
insert into codec_formats (name) values ('DIVX');
insert into codec_formats (name) values ('VHS');
insert into codec_formats (name) values ('DVD');
insert into codec_formats (name) values ('BLURAY');

insert into storage_types (name) values ('HDD');
insert into storage_types (name) values ('VHS-KAZETTA');
insert into storage_types (name) values ('DVD-LEMEZ');
insert into storage_types (name) values ('BLURAY-LEMEZ');


insert into audios (language) values ('magyar');
insert into audios (language) values ('angol');
insert into audios (language) values ('koreai');
insert into audios (language) values ('kínai');
insert into audios (language) values ('japán');

insert into subtitles (language) values ('magyar');
insert into subtitles (language) values ('magyar-kiegészítő');
insert into subtitles (language) values ('angol');
insert into subtitles (language) values ('angol-kiegészítő');

insert into directors (name, birthday) values ('Luigi Magni', '1928-03-21');
insert into directors (name, birthday) values ('Tate Taylor', '1969-06-03');

insert into movies (title_hun, title_original, duration, release_year)
    values ('Legyetek jók, ha tudtok', 'State buoni se potete', '02:19:17', 1983);
insert into movies (title_hun, title_english, duration, release_year)
    values ('A segítség', 'The help', '02:26:20', 2011);



