drop table if exists MOVIES CASCADE;
drop table if exists GENRES CASCADE;
drop table if exists DIRECTORS CASCADE;
drop table if exists CODEC_FORMATS CASCADE;
drop table if exists AUDIOS CASCADE;
drop table if exists SUBTITLES CASCADE;
drop table if exists STORAGE_TYPES CASCADE;

create table MOVIES (
   ID int8 generated by default as identity,
    CODEC_FORMAT_ID int8,
    DIRECTOR_ID int8,
    DURATION time,
    GENRE_ID int8,
    RELEASE_YEAR int4,
    STORAGE_NUMBER int4,
    STORAGE_TYPE_ID int8,
    TITLE_ENGLISH varchar(255),
    TITLE_HUN varchar(255),
    TITLE_ORIGINAL varchar(255),
    X_RESOLUTION int4,
    Y_RESOLUTION int4,
    primary key (ID)
);

create table GENRES (
   ID int8 generated by default as identity,
    NAME varchar(255),
    primary key (ID)
);

create table DIRECTORS (
   ID int8 generated by default as identity,
    BIRTHDAY date,
    NAME varchar(255),
    primary key (ID)
);

create table CODEC_FORMATS (
   ID int8 generated by default as identity,
    NAME varchar(255),
    primary key (ID)
);

create table AUDIOS (
   ID int8 generated by default as identity,
    LANGUAGE varchar(255),
    primary key (ID)
);

create table SUBTITLES (
   ID int8 generated by default as identity,
    LANGUAGE varchar(255),
    primary key (ID)
);

create table STORAGE_TYPES (
   ID int8 generated by default as identity,
    NAME varchar(255),
    primary key (ID)
);

--alter table movies
--    add constraint movies foreign key (genre_id) references genres;
--    add constraint movies foreign key (director_id) references directors;
--    add constraint movies foreign key (director_id) references directors;
--    add constraint movies foreign key (code_format_id) references codec_formats;
--    add constraint movies foreign key (storage_id) references storages;

insert into genres (name) values ('akció');
insert into genres (name) values ('vígjáték');
insert into genres (name) values ('dráma');
insert into genres (name) values ('történelmi');
insert into genres (name) values ('western');
insert into genres (name) values ('fantasy');
insert into genres (name) values ('sci-fi');
insert into genres (name) values ('horror');
insert into genres (name) values ('thriller');
insert into genres (name) values ('romantikus');
insert into genres (name) values ('rajzfilm');
insert into genres (name) values ('anime');
insert into genres (name) values ('dokumentum');
insert into genres (name) values ('természet-film');
insert into genres (name) values ('utifilm');
insert into genres (name) values ('háborús-film');
insert into genres (name) values ('némafilm');

insert into codec_formats (name) values ('H264-BRRIP');
insert into codec_formats (name) values ('H264-WEBRIP');
insert into codec_formats (name) values ('H264-1080P');
insert into codec_formats (name) values ('H264-720P');
insert into codec_formats (name) values ('H265');
insert into codec_formats (name) values ('H265-4K');
insert into codec_formats (name) values ('XVID');
insert into codec_formats (name) values ('DIVX');
insert into codec_formats (name) values ('VHS');
insert into codec_formats (name) values ('DVD');
insert into codec_formats (name) values ('BLURAY');

insert into storage_types (name) values ('HDD');
insert into storage_types (name) values ('VHS-KAZETTA');
insert into storage_types (name) values ('DVD-LEMEZ');
insert into storage_types (name) values ('BLURAY-LEMEZ');


insert into audios (language) values ('magyar');
insert into audios (language) values ('angol');
insert into audios (language) values ('koreai');
insert into audios (language) values ('kínai');
insert into audios (language) values ('japán');

insert into subtitles (language) values ('magyar');
insert into subtitles (language) values ('magyar-kiegészítő');
insert into subtitles (language) values ('angol');
insert into subtitles (language) values ('angol-kiegészítő');

insert into directors (name, birthday) values ('Luigi Magni', '1928-03-21');
insert into directors (name, birthday) values ('Tate Taylor', '1969-06-03');

insert into movies (title_hun, title_original, duration, release_year)
    values ('Legyetek jók, ha tudtok', 'State buoni se potete', '02:19:17', 1983);
insert into movies (title_hun, title_english, duration, release_year)
    values ('A segítség', 'The help', '02:26:20', 2011);



